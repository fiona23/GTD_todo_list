/*!GTD_Tool 2015-06-29
* created by fiona23
*/
require.config({baseUrl:"js",paths:{util:"util",init:"init",defaults:"defaults",operateCategory:"operateCategory",operateTask:"operateTask",categoryData:"categoryData",todoData:"todoData"}}),require(["util","init","operateCategory","operateTask","defaults"],function(a,b,c,d,e){function f(){function f(c,d,e){var f={};a.on(c,"touchstart",function(a){var b=a.changedTouches[0];f.x=b.clientX}),a.on(c,"touchmove",function(a){b.slide(a,c,d,e,f)}),a.on(c,"touchend",function(b){f.endx=b.changedTouches[0].clientX;var g=f.endx-f.x;-60>g?a.device.slideRight(c,e):g>60?a.device.slideLeft(c,d):(60>(g>0)||0>(g>-60))&&a.device.noSlide(c,d,e),a.transition(a(".list")[0],"-webkit-transform","0.6s"),a.transition(a(".category")[0],"-webkit-transform","0.6s"),a.transition(a(".detail")[0],"-webkit-transform","0.6s")})}a.on("#"+e.addCategory,"click",c.addCategory),a.delegate("#"+e.cateL1Li,"p","click",c.deleteCategory),a.on("body","click",function(){a("#"+e.rightBtn)[0].style.display="none"}),a.on("#"+e.addCateL2,"click",function(){a("#"+e.addCateL2Overlay)[0].style.display="block",b.setOverlayCss(a(".black")[1])}),a.delegate("#"+e.cateL1Li,"i","click",function(){a("#"+e.addCateL2Overlay)[0].style.display="block",b.setOverlayCss(a(".black")[1]),c.addCategoryLevel2}),a.on("#"+e.delCateL2,"click",c.deleteCategoryLevel2),a.on("#"+e.cateL1Li,"mousedown",c.showRightmenu),a.on("#"+e.addCateL2Sub,"click",c.addCategoryLevel2),a.on("#"+e.addTask,"click",function(b){a.device.init()&&a.device.slideRight(a("section")[0],a("article")[0]),d.addTask(b)}),a.on("#"+e.cancle,"click",d.cancleEditTask),a.on("#"+e.editTask,"click",d.editTask),a.on("#"+e.taskComplete,"click",function(){var a=confirm("确定已经完成吗");1==a&&d.taskComplete()}),a.on("#"+e.pendingBtn,"click",d.chooseCode),a.on("#"+e.completedBtn,"click",d.chooseCode),a.on("#"+e.allBtn,"click",d.chooseCode),a.on(a(".cancle",a("#"+e.cateOverlay)[0])[0],"click",function(){a.un("#"+e.addCateSub,"click"),a("#"+e.cateOverlay)[0].style.display="none"}),a.on(a(".cancle",a("#"+e.addCateL2Overlay)[0])[0],"click",function(){a("#"+e.addCateL2Overlay)[0].style.display="none"}),a.device.init()&&(f(a(".list")[0],a(".category")[0],a(".detail")[0]),f(a(".category")[0],null,a(".list")[0]),f(a(".detail")[0],a(".list")[0],null))}b.showCategory(),b.showTaskList(),b.showTaskDetail(),b.clickTask(),f()});